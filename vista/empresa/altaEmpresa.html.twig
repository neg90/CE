{% extends "basePrivada.html.twig" %}
 
{% block title %}Formulario Empresa {% endblock %}

{% block contenedor %}
	<script type="text/javascript">
		 counter = 1;
		 var limit = 12;
		 var contador = 1;
		 function agregarInput(divName,nombre){
			 if (counter == limit){
			 	alert("No se pueden agregar mas campos!");
			  }else{
			  	//Creo el elemento
			    var newdiv = document.createElement('div');
			    newdiv.innerHTML = "<div class='row'><div class='col-lg-6'><div class='form-group'><label class='col-lg-2 control-label'>"+nombre+" </label><div class='col-lg-6'><input type='text' name='dia_+' class='form-control'></div></div></div><div class='col-lg-6'><div class='form-group'><label class='col-lg-2 control-label'>"+nombre+" </label><div class='col-lg-6'><input type='text' name='dia_+' class='form-control'></div></div></div></div>";
			    document.getElementById(divName).appendChild(newdiv);

			    counter++;
			   	contador++;
			   }
		 }
		 var cantRubro = 0;

		 function cargarRubro(divName,nombre){
			 if ((cantRubro == 1)){
			 	alert("No se pueden agregar mas campos!");
			 }else{
			  //Creo el elemento
			  var newdiv = document.createElement('div');
			  newdiv.innerHTML = "<div class='col-lg-6'><div class='form-group'><label class='col-lg-2 control-label'>"+nombre+" </label><div class='col-lg-6'><input type='text' name='dia_+' class='form-control'></div></div></div>";
			  document.getElementById(divName).appendChild(newdiv);
			  cantRubro++;
			 }
		 }
		 var cantCat = 0;

		 function cargarCategoria(divName,nombre){
			 if ((cantCat == 1)){
			 	alert("No se pueden agregar mas campos!");
			 }else{
			  //Creo el elemento
			  var newdiv = document.createElement('div');
			  newdiv.innerHTML = "<div class='col-lg-6'><div class='form-group'><label class='col-lg-2 control-label'>"+nombre+" </label><div class='col-lg-6'><input type='text' name='dia_+' class='form-control'></div></div></div>";
			  document.getElementById(divName).appendChild(newdiv);
			  cantCat++;
			 }
		 }
		 
	</script>

	{% if modo == 'alta' %}
		<form class="form-horizontal" action="privado.php?c=empresa&a=alta" role="form" method="POST">
	{% elseif modo == 'modificar' %}
		<form class="form-horizontal" action="privado.php?c=empresa&a=modificar" role="form" method="POST">
	{% endif %}
		<input type="hidden" name="idempresa" value="{{idempresa}}">
		<div class="contenedor-formulario">
			<div class="row fila-de-alerta">
				<div class=" col-lg-2"></div>
				 <div class=" col-lg-8">
				 	{% if aviso == 1 %}
						<div class="alert alert-success alert-dismissable">
		   	 				<button type="button" class="close" data-dismiss="alert">×</button>
		    				<strong>Perfecto!</strong> La empresa fue guardada con exito.
	  					</div>
  					{% elseif  aviso == 2 %}
  						<div class="alert alert-danger alert-dismissable">
		   	 				<button type="button" class="close" data-dismiss="alert">×</button>
		    				<strong>No se guardo la empresa!</strong> No re cagues ni utilicez f5 en el formulario. Causa: La empresa ya se encuentra registrada.
	  					</div>
	  				{% endif %}
				 </div>
			</div>
			<div class="row fila-de-titulo">
				<div class=" col-lg-4"></div>
				 <div class=" col-lg-4">
					<h3> Formulario Empresa</h3>
				 </div>
			</div>
			<div class="row">
			 	<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-3 control-label">Denominacion:* </label>
						<div class="col-lg-5 "> 
							<input type="text" class="form-control" name="denominacion" placeholder="Denominacion" required/>
						</div>
				</div>
			</div>
				<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-6 control-label">Cant. Empleados:</label>
						<div class="col-lg-2 "> 
						  <input type="number" class="form-control" name="cantempleados"/>
						</div>
					</div>
				</div>
			 </div>
			  <div class="row">
			 	<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-4 control-label">Nro. Socio: </label>
						<div class="col-lg-4 "> 
						  <input type="text" class="form-control" name="nrosocio" placeholder="0222566">
						</div>					
					</div>
				</div>
				<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-6 control-label">Impor. Mensual:* </label>
						<div class="col-lg-2 "> 
						  <input type="text" class="form-control" name="importemensual" placeholder="40,56" required/>
						</div>
					</div>
				</div>
			 </div>
			 <div class="row">
			 	<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-2 control-label">CUIT:* </label>
						<div class="col-lg-6 "> 
						  <input type="text" class="form-control" name="correo" placeholder="20-88888888-6" requiered/>
						</div>
					</div>
				</div>
			 	<div class=" col-lg-6">
				    <div class="form-group">
						<label class="col-lg-2 control-label">WEB:</label>
						<div class="col-lg-6 "> 
							<input type="text" class="form-control" name="web" placeholder="www.ejemplo.com.ar" requiered/>
						</div>
					</div>
				</div>
			 </div>
			 <div class="row">	
			 	<div class=" col-lg-12">
			 		<div class="form-group">
					 	<label class="col-lg-4 control-label">Fecha Inicio como socio: *</label>
					 	<div class="col-lg-3">
							<input type="date" class="form-control" name="fechainicioce" required/>
						</div>
					</div>
				</div> 
			 </div>
			 <div class="row">	
			 	<div class=" col-lg-12">
			 		<div class="form-group">
					 	<label class="col-lg-4 control-label">Fecha Fundacion empresa: </label>
					 	<div class="col-lg-3">
							<input type="date" class="form-control" name="fechafundacion"/>
						</div>
					</div>
				</div> 
			 </div>
			 <div class="row">	
			 	<div class=" col-lg-12">
			 		<div class="form-group">
			 			<label class="col-lg-4 control-label">Detalle Actividad: </label>
					 	<div class="col-lg-3">
							<textarea cols="90" rows="5" name="detactividad" ></textarea>
						</div>
					</div>
				</div> 
			 </div>
			 <div class="row" id="insertarRubro">
			 	<div class="col-lg-6" > 
			 		<div class="form-group">
						<label class="col-lg-2 control-label">Rubro: </label>
						<div class="col-lg-4 "> 
							<select class="form-control" name="rubro"></select>
						</div>
						<button type="button" class="btn btn-default col-lg-2" onclick="cargarRubro('insertarRubro','Descripcion');">
							<span class="glyphicon glyphicon-plus-sign"></span>
						</button>
					</div>
				</div>
			</div>
			 <div class="row" id="insertarCategoria">
				<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-2 control-label">Categoria: </label>
						<div class="col-lg-4 "> 
							<select class="form-control" name="categoria"></select>
						</div>
						<button type="button" class="btn btn-default col-lg-2" onclick="cargarCategoria('insertarCategoria','Descripcion');">
							<span class="glyphicon glyphicon-plus-sign"></span>
						</button>
					</div>
				</div>
			</div>
			<div id="insertarTelefono">
				<div class="row">
					<div class="col-lg-6" > 
				 		<div class="form-group"  >
							<label class="col-lg-2 control-label">Telefono:* </label>
							<div class="col-lg-4 "> 
								<input type="text" class="form-control" name="Telefono" required/>
							</div>
							<button type="button" class="btn btn-default col-lg-2" onclick="agregarInput('insertarTelefono','Telefono');">
								<span class="glyphicon glyphicon-plus-sign"></span>
							</button>
						</div>
					</div>
				</div>
			</div>
			<div id="insertarDomicilio">
				<div class="row">
				 	<div class="col-lg-6"> 
				 		<div class="form-group">
							<label class="col-lg-2 control-label">Domicilio:* </label>
							<div class="col-lg-4 "> 
								<input type="text" class="form-control" name="Domicilio" required/>
							</div>
							<button type="button" class="btn btn-default col-lg-2" onclick="agregarInput('insertarDomicilio','Domicilio');">
								<span class="glyphicon glyphicon-plus-sign"></span>
							</button>						
						</div>
					</div>
				</div>
			</div>
			<div id="insertarCorreo">
				<div class="row">
			 	<div class="col-lg-6"> 
			 		<div class="form-group">
						<label class="col-lg-2 control-label">Correo: </label>
						<div class="col-lg-4 "> 
							<input type="text" class="form-control" name="Correo" required/>
						</div>
						<button type="button" class="btn btn-default col-lg-2" onclick="agregarInput('insertarCorreo','Correo');">
							<span class="glyphicon glyphicon-plus-sign"></span>
						</button>	
					</div>
				</div>
			 </div>
			</div>
			 <div class="row">	
			 	<div class=" col-lg-6">
					<input class="col-lg-2" type="checkbox" name="activo"> 
					<label class="col-lg-8">¿Activo? </label>
				</div>
			 </div>
			 <div class="row fila-de-boton">
			 	<div class=" col-lg-4"></div>
			 	<div class=" col-lg-2">
					<a href="privado.php?c=empresa&a=listar">
						<button type="button" class="btn btn-default btn-lg btn-block col-lg-4" name="nuevoTelefono"s>
							Volver al listado
						</button>
					</a>
				</div>
			 	<div class=" col-lg-2">
					<button type="submit" class="btn btn-default btn-lg btn-block col-lg-4" name="guardarContacto">Guardar</button>
				</div>
				
				<div class=" col-lg-4"></div>
			</div>

			<div class="row aviso-completar">
				<div class=" col-lg-3"></div>
				<div class=" col-lg-6 col-md-6 col-sm-6 recuadro-aviso">
					<div class="alert alert-warning">
   	 					<strong> Los campos marcados con * deben ser completados obligatoriamente </strong>
  					</div>
				</div>
			</div>

		</div>
	</form>
{% endblock %}